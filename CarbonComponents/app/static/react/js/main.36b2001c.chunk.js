(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(32),r=n.n(c),i=(n(70),n(131)),o=n(126),l=n(19),f=n.n(l),j=n(23),d=n(17),b=n(132),u=n(130),h=n(125),O=n(128),x=n(127),p=(n(72),n(4));var v=function(e){var t=e.offenses;return Object(p.jsx)("div",{className:"offenses-table-container",children:Object(p.jsx)(x.a,{className:"offenses-table",headers:[{key:"magnitude",header:"Magnitude"},{key:"offenseID",header:"ID"},{key:"description",header:"Description"},{key:"starttime",header:"Start Time"},{key:"status",header:"Status"}],pageSize:10,pageSizes:[5,10,25,50],rows:t,isSelectable:!1})})},m=n(60),g=n.n(m),y=function(e){return e.substr(0,e.lastIndexOf("/"))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=Object(s.useState)(),a=Object(d.a)(n,2),c=a[0],r=a[1],i=Object(s.useState)(!1),o=Object(d.a)(i,2),l=o[0],b=o[1],u=function(){var n=Object(j.a)(f.a.mark((function n(){var s,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),r(),n.prev=2,n.next=5,g()({method:"GET",url:e,baseURL:y(t)});case 5:s=n.sent,a=s.data,r(a),b(!1),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),console.error(n.t0),b(!1);case 15:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(){return n.apply(this,arguments)}}();return[u,{data:c,loading:l}]},w=(n(104),function(){var e=S("/offenses?range=items=0-49"),t=Object(d.a)(e,2),n=t[0],a=t[1],c=a.data,r=a.loading,i=Object(s.useState)(),o=Object(d.a)(i,2),l=o[0],x=o[1];Object(s.useEffect)((function(){(null===c||void 0===c?void 0:c.offenses)&&x(function(e){return e.map((function(e){return{id:e.id,magnitude:e.magnitude,offenseID:e.id,description:e.description,starttime:Object(O.a)(e.start_time,"MMM dd, yyyy  hh:mm a"),status:e.status}}))}(c.offenses))}),[c]);var m=function(){var e=Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[r&&Object(p.jsx)(h.a,{}),!(null===l||void 0===l?void 0:l.length)&&Object(p.jsxs)("div",{className:"offenses-empty-state",children:[Object(p.jsx)(b.a,{title:"Offenses table"}),Object(p.jsxs)("div",{className:"empty-state-text",children:[Object(p.jsx)("p",{children:"This tab displays a list of offenses in a table."}),Object(p.jsx)("p",{children:"Click the button below to fetch the last 50 offenses."})]}),Object(p.jsx)(u.a,{onClick:function(){return m()},children:"Fetch offenses"})]}),(null===l||void 0===l?void 0:l.length)&&Object(p.jsxs)("div",{className:"offenses-tab-container",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(b.a,{title:"Offenses table"}),Object(p.jsxs)("div",{className:"offenses-text-button-pair",children:[Object(p.jsxs)("p",{children:["The ",null===l||void 0===l?void 0:l.length," most recent offenses are displayed in the table below."]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(u.a,{onClick:function(){return x(void 0)},size:"sm",kind:"ghost",children:"Clear table"}),Object(p.jsx)(u.a,{onClick:function(){return m()},size:"sm",kind:"ghost",children:"Refresh table"})]})]})]}),Object(p.jsx)(v,{offenses:l})]})]})}),k=n(124),C=n(129),N=(n(105),function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(d.a)(c,2),i=r[0],o=r[1],l=S("/offenses/".concat(n)),O=Object(d.a)(l,2),x=O[0],v=O[1],m=v.data,g=v.loading,y=Object(s.useState)(),w=Object(d.a)(y,2),N=w[0],T=w[1];Object(s.useEffect)((function(){(null===m||void 0===m?void 0:m.offense)&&T(m.offense)}),[m]);var I=function(){var e=Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){e.match(/^[0-9]+$/)?o(!1):o(!0)};return Object(p.jsxs)(p.Fragment,{children:[g&&Object(p.jsx)(h.a,{}),Object(p.jsx)(b.a,{title:"Search offenses"}),Object(p.jsx)("p",{children:"Use the search bar below to fetch an offense by its ID."}),Object(p.jsxs)("div",{className:"offenses-searchbar",children:[Object(p.jsxs)("div",{className:"offenses-searchbar-inner",children:[Object(p.jsx)(k.a,{className:i?"searchbar-invalid":"",clearButtonLabelText:"Clear",labelText:"Label",onChange:function(e){a(e.target.value),D(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&I()},placeHolderText:"Enter an offense ID",submitLabel:"Search",value:n}),i&&Object(p.jsx)("span",{className:"searchbar-invalid-msg",children:"Offense IDs should contain numerical characters only."})]}),Object(p.jsx)(u.a,{onClick:I,disabled:!(""!==n&&!i),children:"Search"})]}),N&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{children:"Result"}),Object(p.jsx)(C.a,{showLessText:"Show less",showMoreText:"Show more",type:"multi",wrapText:!1,children:Object(p.jsx)("div",{children:Object(p.jsx)("pre",{children:JSON.stringify(N,null,2)})})})]})]})}),T=(n(107),function(){return Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)("h2",{children:"Sample application using Carbon components"}),Object(p.jsxs)(i.a,{children:[Object(p.jsx)(o.a,{href:"#",tabIndex:0,label:"Offenses table",children:Object(p.jsx)(w,{})}),Object(p.jsx)(o.a,{href:"#",tabIndex:1,label:"Search offenses",children:Object(p.jsx)(N,{})})]})]})}),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),I()},70:function(e,t,n){},72:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.36b2001c.chunk.js.map